<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Editor de Constancia</title>
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <style>
    #editor-container { height: 500px; background: white; margin-bottom: 10px; }
    #exportar-btn { padding: 10px 20px; font-size: 16px; }
  </style>
</head>
<body>
  <div id="editor-container"></div>
  <button id="exportar-btn">Exportar a PDF</button>

  <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
  <script>
    const editor = new Quill('#editor-container', { theme: 'snow' });

    // Inserta contenido desde Python
    const contenidoInicial = '{contenido}';
    editor.root.innerHTML = contenidoInicial;

    document.getElementById("exportar-btn").onclick = () => {
      const html = editor.root.innerHTML;
      if (window.pywebview) {
        window.pywebview.api.exportar_pdf(html);
      } else {
        alert("No se encontr√≥ la API de pywebview");
      }
    };
  </script>
</body>
</html>
